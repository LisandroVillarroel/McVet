{"ast":null,"code":"\"use strict\";\n\nfunction rutClean(value) {\n  return typeof value === 'string' ? value.replace(/[^0-9kK]+/g, '').toUpperCase() : '';\n}\n\nexports.rutClean = rutClean;\n\nfunction rutValidate(value) {\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  var rut = rutClean(value);\n  var rutDigits = parseInt(rut.slice(0, -1), 10);\n  var m = 0;\n  var s = 1;\n\n  while (rutDigits > 0) {\n    s = (s + rutDigits % 10 * (9 - m++ % 6)) % 11;\n    rutDigits = Math.floor(rutDigits / 10);\n  }\n\n  var checkDigit = s > 0 ? String(s - 1) : 'K';\n  return checkDigit === rut.slice(-1);\n}\n\nexports.rutValidate = rutValidate;\n\nfunction rutFormat(value) {\n  var rut = rutClean(value);\n\n  if (rut.length <= 1) {\n    return rut;\n  }\n\n  var result = rut.slice(-4, -1) + \"-\" + rut.substr(rut.length - 1);\n\n  for (var i = 4; i < rut.length; i += 3) {\n    result = rut.slice(-3 - i, -i) + \".\" + result;\n  }\n\n  return result;\n}\n\nexports.rutFormat = rutFormat;","map":null,"metadata":{},"sourceType":"script"}